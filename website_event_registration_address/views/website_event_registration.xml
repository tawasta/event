<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="registration_template" inherit_id="website_event.registration_template">
        <xpath expr="//form[@id='registration_form']" position="before">
            <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
            <script type="text/javascript" src="/website_event_registration_address/static/src/js/registration.js"></script>
        </xpath>
    </template>

    <template id="registration_attendee_details" inherit_id="website_event.registration_attendee_details">
        <xpath expr="//form[@id='attendee_registration']" position="before">
            <t t-set="countries" t-value="request.env['res.country'].sudo().search([])"/>
        </xpath>
        <xpath expr="//t[@name='attendee_loop']/div[@class='row mb4']/div[@class='col-md-3']" position="after">
            <div class="col-md-3">
                <input class='form-control' type='text' t-attf-name="#{counter}-street" placeholder="Street" required="true"/>
            </div>
            <div class="col-md-3">
                <input class='form-control' type='text' t-attf-name="#{counter}-zip" placeholder="Zip code" required="true"/>
            </div>
            <div class="col-md-3">
                <input class='form-control' type='text' t-attf-name="#{counter}-city" placeholder="City" required="true"/>
            </div>
            <div class="col-md-3">
                <select class="form-control country-select" t-attf-name="#{counter}-country_id" required="true">
                    <option></option>
                    <t t-foreach="countries" t-as="country">
                        <option t-att-value="country.id" t-esc="country.name"/>
                    </t>
                </select>
            </div>
        </xpath>
    </template>
</odoo>
