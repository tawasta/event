<odoo>

    <template id="portal_my_tracks" name="My Tracks">
        <t t-call="website_portal.portal_layout">
            <h3 class="page-header">Your tracks</h3>
            <t t-if="not tracks">
                <p>There are currently no tracks for your account.</p>
            </t>
            <t t-if="tracks">
                <div class="container list-group">
                    <div class="list-group-item row">
                        <div class="col-sm-2"><span class="tag label label-info">Draft</span></div>
                        <div class="col-sm-10">Created by you. Waiting for you to send this to review.</div>
                    </div>
                    <div class="list-group-item row">
                        <div class="col-sm-2"><span class="tag label label-warning">Confirmed</span></div>
                        <div class="col-sm-10">Confirmed by you. Waiting for an approval from reviewers.</div>
                    </div>
                    <div class="list-group-item row">
                        <div class="col-sm-2"><span class="tag label label-primary">Announced</span></div>
                        <div class="col-sm-10">Approved by reviewers. Waiting for your confirmation.</div>
                    </div>
                    <div class="list-group-item row">
                        <div class="col-sm-2"><span class="tag label label-success">Published</span></div>
                        <div class="col-sm-10">Confirmed by you. Included in the event program.</div>
                    </div>
                    <div class="list-group-item row">
                        <div class="col-sm-2"><span class="tag label label-danger">Refused</span></div>
                        <div class="col-sm-10">Not approved by reviewers.</div>
                    </div>
                    <div class="list-group-item row">
                        <div class="col-sm-2"><span class="tag label label-default">Cancelled</span></div>
                        <div class="col-sm-10">Cancelled by you.</div>
                    </div>
                </div>

                <table id="event_track_list" class="table table-hover o_my_status_table">
                    <thead>
                        <tr class="active">
                            <th>Track</th>
                            <th>Timeslot</th>
                            <th>State</th>
                            <th t-if="user.has_group('event.group_track_reviewer')">Review</th>
                        </tr>
                    </thead>
                    <t t-foreach="tracks" t-as="track">
                        <tr t-attf-data-href="/my/tracks/#{track.id}?#{keep_query()}">
                            <td>
                                <a t-attf-href="/my/tracks/#{track.id}?#{keep_query()}">
                                    <t t-esc="track.name"/>
                                </a>
                            </td>
                            <td>
                                <t t-if="track.date">
                                    <span t-field="track.date" t-options='{"widget": "datetime"}'/>
                                </t>
                                <t t-if="not track.date">
                                    -
                                </t>
                            </td>
                            <td>
                                <t t-set="track_state">label-default</t>

                                <t t-if="track.state == 'draft'">
                                    <t t-set="track_state">label-info</t>
                                </t>

                                <t t-if="track.state == 'confirmed'">
                                    <t t-set="track_state">label-warning</t>
                                </t>

                                <t t-if="track.state == 'announced'">
                                    <t t-set="track_state">label-primary</t>
                                </t>

                                <t t-if="track.state == 'published'">
                                    <t t-set="track_state">label-success</t>
                                </t>

                                <t t-if="track.state == 'refused'">
                                    <t t-set="track_state">label-danger</t>
                                </t>

                                <t t-if="track.state == 'cancel'">
                                    <t t-set="track_state">label-default</t>
                                </t>

                                <span t-field="track.state" t-attf-class="tag label {{track_state}}"/>
                            </td>
                            <td t-if="user.has_group('event.group_track_reviewer')">
                                <div class="input-group stars">
                                    <input disabled="1" class="star star-5" id="star-5" type="radio"
                                           t-att-checked="'checked' if track.rating == '5' else False" />
                                    <label class="star-small star-5" for="star-5"></label>
                                    <input disabled="1" class="star star-4" id="star-4" type="radio"
                                           t-att-checked="'checked' if track.rating == '4' else False" />
                                    <label class="star-small star-4" for="star-4"></label>
                                    <input disabled="1" class="star star-3" id="star-3" type="radio"
                                           t-att-checked="'checked' if track.rating == '3' else False" />
                                    <label class="star-small star-3" for="star-3"></label>
                                    <input disabled="1" class="star star-2" id="star-2" type="radio"
                                           t-att-checked="'checked' if track.rating == '2' else False" />
                                    <label class="star-small star-2" for="star-2"></label>
                                    <input disabled="1" class="star star-1" id="star-1" type="radio"
                                           t-att-checked="'checked' if track.rating == '1' else False" />
                                    <label class="star-small star-1" for="star-1"></label>
                                </div>
                            </td>
                            <td t-if="user.has_group('event.group_track_reviewer')">
                                <span t-field="track.rating_comment" />
                            </td>
                        </tr>
                    </t>
                </table>
                <div t-if="pager" class="o_portal_pager text-center">
                    <t t-call="website.pager"/>
                </div>
            </t>
        </t>
        <script type="text/javascript" src="/website_portal_track/static/src/js/event_track_list.js"></script>
    </template>

</odoo>
