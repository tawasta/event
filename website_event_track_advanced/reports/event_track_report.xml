<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <report
            id="report_event_track_content"
            string="Track contents summary"
            model="event.track"
            report_type="qweb-pdf"
            file="website_event_track_advanced.event_track_content_report"
            name="website_event_track_advanced.event_track_content_report"
            paperformat="event.paperformat_euro_lowmargin"
    />

    <template id="website_event_track_advanced.event_track_content_report">

        <t t-call="report.html_container">
            <div class="page">
                <div class="oe_structure"/>
                <h1>Track contents summary</h1>
                <t t-foreach="docs" t-as="doc">
                <t t-set="doc" t-value="doc.with_context({'lang':doc.language.code or 'en_US'})"/>
                    <p><strong><span t-field="doc.id" /></strong> - <span t-field="doc.name" /></p>
                </t>
            </div>

            <t t-foreach="docs" t-as="doc">
                <t t-set="doc" t-value="doc.with_context({'lang':doc.language.code or 'en_US'})"/>

                <div class="page mb32">
                    <!-- This will be repeated a lot, but it won't work higher in the hierarchy -->
                    <style type="text/css">
                        .badge {
                            display: inline-block;
                            min-width: 10px;
                            padding: 3px 7px;
                            font-size: 12px;
                            font-weight: bold;
                            color: #fff;
                            line-height: 1;
                            vertical-align: middle;
                            white-space: nowrap;
                            text-align: center;
                            background-color: #777777;
                            border-radius: 10px;
                        }
                    </style>

                    <p><strong><span t-field="doc.id" /> - <span t-field="doc.name" /></strong></p>
                    <p>
                        <t t-foreach="doc.tag_ids" t-as="tag">
                            <span class="badge" t-field="tag.name" />
                        </t>
                    </p>
                    <a t-if="doc.video_url" t-field="doc.video_url" t-att-href="doc.video_url"><span t-field="doc.video-url" /></a>
                    <!--<p><span>Proposed:</span> <span t-field="doc.partner_string" /></p>-->
                    <!--<p><span>Presenters:</span> <span t-field="doc.speakers_string" /></p>-->

                    <div class="track-content">
                        <p t-field="doc.description" />
                    </div>
                </div>
            </t>
        </t>
    </template>

</odoo>